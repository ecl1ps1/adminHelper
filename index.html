
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Helper</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"/>
</head>
<body>
  <canvas id="stars"></canvas>
  <div id="preloader"><div class="spinner"></div></div>
  <aside>
    <nav>
      <a href="#dashboard" data-tab="dashboard">Дашборд</a>
      <a href="#online" data-tab="online">Онлайн по логам</a>
      <a href="#tools" data-tab="tools">Инструменты</a>
      <a href="#settings" data-tab="settings">Настройки</a>
    </nav>
  </aside>
  <main>
    <div class="tab" id="dashboard">
      <h1>Дашборд</h1>
      <div class="card">
        <p>Основная рабочая вкладка — «Онлайн по логам».</p>
      </div>
    </div>

    <div class="tab active" id="online">
      <h1>Подсчёт онлайна по логам</h1>
      <div class="card" style="margin-bottom: 16px;">
        <label for="logTypeSwitcher">Вариант логов:</label>
        <div class="switch-row">
          <label class="switch">
            <input type="checkbox" id="logTypeSwitcher">
            <span class="slider"></span>
          </label>
          <span id="logModeLabel">Основные логи</span>
        </div>
      </div>
      <div class="card">
        <label for="logsInput">Логи (вставляйте длинный текст сюда)</label>
        <textarea id="logsInput" placeholder=""></textarea>
      </div>
      <div class="card">
        <h3>Фильтр периода</h3>
        <div class="row">
          <div>
            <label for="dateFrom">Дата от</label>
            <input type="date" id="dateFrom">
          </div>
          <div>
            <label for="dateTo">Дата до</label>
            <input type="date" id="dateTo">
          </div>
          <div>
            <label for="timeFrom">Время от</label>
            <input type="time" id="timeFrom" value="10:00">
          </div>
          <div>
            <label for="timeTo">Время до</label>
            <input type="time" id="timeTo" value="20:00">
          </div>
        </div>
        <button id="calcBtn">Рассчитать</button>
      </div>
      <div class="card results" id="results" hidden></div>
      <div class="card hidden" id="chartsContainer"></div>
      <div class="card">
        <details>
          <summary>Как это работает</summary>
          <p>
            Парсится дата/время, ник и длительность сессии.<br>
            Суммируется длительность в указанном диапазоне дат и времени суток.<br>
            Если дата не будет указана, подсчет онлайна будет происходить по всем вставленным строкам.
          </p>
        </details>
      </div>
    </div>

    <div class="tab" id="tools">
      <h1>Инструменты</h1>
      <div class="card">
        <p>Что-то будет...</p>
      </div>
    </div>

    <div class="tab" id="settings">
      <h1>Настройки</h1>
      <div class="card">
        <p>Что-то будет...</p>
      </div>
    </div>
  </main>
  <script>
    window.addEventListener('load', () => {
      document.getElementById('preloader').classList.add('hidden');
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="main.js"></script>
</body>
</html>
